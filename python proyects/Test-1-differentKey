import hashlib
import unicodedata
from collections import deque

def indexes(plainText):
    
 s= unicodedata.normalize("NFKD", plainText).encode("ascii","ignore").decode("ascii").lower()
 dictionary = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',' ',',','.','0','1','2','3','4','5','6','7','8','9']
 aux = plainText.upper()
 lChain = list(s)
 nChar = len(s)
 index = [0]*nChar

 for i in range(0,nChar,1):
     index[i] = dictionary.index(lChain[i])
 return index

def crypt(indexes):
    cryptonary = ['f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z', ',','.',' ','0','1','2','3','4','5','6','7','8','9','A','B','C','D','E']
    nArray = len(indexes)
    crypted = ['']*nArray
    
    for i in range(0,nArray,1):
        crypted[i] = cryptonary[(indexes[i])]
        
        output= ''.join(str(x) for x in crypted)
   
    return output

def decrypt(ciferText,indice):
     index = indexes(ciferText)
     abc = deque(['a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','m','n',' ',',','.','0','1','2','3','4','5','6','7','8','9'])
     abc.rotate(indice)
     abcEncrypt = list(abc)
     nArray = len(ciferText)
     decrypted = ['']*nArray

     for i in range(0,nArray,1):
         decrypted[i] = abcEncrypt[(index[i])]
     output= ''.join(str(x) for x in decrypted)
     return output


print('-----------------------------------Cadena a desencriptar-----------------------------------------')
word = '6boq3w15cacbsros46b4w45saors1oucrwuw5oz26sbcrs1sbrsrspobqc41o3o7s3wtwqo353ob4oqqwcbs4.s46b4w45saosb53s1o3s426s16srs1s3aw5w326sq6oz26ws31s34cbosbq6oz26ws3z6uo316srosb7wo303sqwpw31ouc4.sbz6uo3rsrwbs3ctw4wqc26s4s53ob41c35oswb5s3qoapwosbsza6brc3soz,zc41ouc4rsq3w15cacbsros9w45sb6bwqoasb5ssbtc3aorssb53oro4rwuw5ozs4rw3wuwro4o6bopo4srsro5c4sbzwbsosbzo26s4srs4q3wpsb53ob4oqqwcbs4s41sqwtwqo4.q6obrc53ob4tws3s4tcbrc4rsq3w15cacbsro4,zo453ob4oqqwcbs44s3suw453obsb6bzwp3cao0c316pzwqc.zo4q3w15cacbsro44sozaoqsbobsbacbsrs3c4rwuw5ozs4.'
print(indexes(word))
print(word)
for i in range (0, 42, 1):
    
    print(f"------------------------------PRUEBA INDICE>{i}<----------------------------------")
    
    palabraDecifrada= decrypt(word,-i)
    print(palabraDecifrada)
    


# CADENAS POSIBLES  
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','0','1','2','3','4','5','6','7','8','9'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',',','.',' ','0','1','2','3','4','5','6','7','8','9'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',' ',',','.','0','1','2','3','4','5','6','7','8','9'



# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','0','1','2','3','4','5','6','7','8','9' patrón sospechoso
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',' ',',','0','1','2','3','4','5','6','7','8','9'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',',',' ','.','0','1','2','3','4','5','6','7','8','9'  PATRON ALTAMENTE SOSPECHOSO
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',',','.',' ','0','1','2','3','4','5','6','7','8','9'  IGUAL
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',' ','.',',','0','1','2','3','4','5','6','7','8','9'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z',' ',',','.','0','1','2','3','4','5','6','7','8','9'


# '0','1','2','3','4','5','6','7','8','9','.',',',' ','a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z'
'0','1','2','3','4','5','6','7','8','9','.',' ',',','a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z'
'0','1','2','3','4','5','6','7','8','9',',',' ','.','a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z'
'0','1','2','3','4','5','6','7','8','9',',','.',' ','a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z'
'0','1','2','3','4','5','6','7','8','9',' ','.',',','a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z'
'0','1','2','3','4','5','6','7','8','9',' ',',','.','a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z'


'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9','.',',',' ','0'
'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9','.',' ',',','0'
'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9',',',' ','.','0'
'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9',',','.',' ','0'
'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9',' ','.',',','0'
'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9',' ',',','.','0'



# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','1','2','3','4','5','6','7','8','9','0'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','1','2','3','4','5','6','7','8','9','0'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','1','2','3','4','5','6','7','8','9','0'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','1','2','3','4','5','6','7','8','9','0'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','1','2','3','4','5','6','7','8','9','0'
# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','.',',',' ','1','2','3','4','5','6','7','8','9','0'

# 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','ñ','o','p','q','r','s','t','u','v','w','x','y','z','1','2','3','4','5','6','7','8','9','0','.',',',' '